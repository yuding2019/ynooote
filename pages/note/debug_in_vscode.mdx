import MDXPageLayout from '../../components/MDXComponents';

export const meta = {
  title: 'ã€vscodeã€‘ç›´æ¥å¯¹tsxä»£ç è¿›è¡Œdebug',
  tags: ['vscode', 'debug'],
  img: '/images/vscode.png',
};

> æˆ‘çŸ¥é“vscodeä¹‹å‰å°±å¯ä»¥ç›´æ¥debugä»£ç äº†ï¼Œä½†æ˜¯æˆ‘ç°åœ¨æ‰ä½¿ç”¨è¿™ä¸ªé…ç½®å¹¶ä¸”æˆåŠŸè°ƒè¯•ğŸ‘»ğŸ‘»ğŸ‘»ğŸ‘»

å¾ˆå¤šæ—¶å€™æˆ‘åœ¨è°ƒè¯•å‰ç«¯ä»£ç çš„æ—¶å€™ï¼Œè¦ä¹ˆç›´æ¥`console.log(x)`ï¼Œè¦ä¹ˆåœ¨ä»£ç é‡Œé¢æ‰‹åŠ¨æ·»åŠ ä¸€ä¸ª`debugger`ï¼Œ
ç¨å¾®æœ‰ç‚¹æ•ˆç‡ä½ä¸‹ï¼Œæ¯•ç«Ÿæ”¹å®Œä»£ç è¿˜å¾—ç­‰é‡æ–°ç¼–è¯‘ã€åˆ·æ–°é¡µé¢ã€‚

ä½†æ˜¯åœ¨å®Œæˆ`vscode`çš„`launch`æ–‡ä»¶é…ç½®åï¼Œå°±å¯ä»¥ç›´æ¥åœ¨ä»£ç ä¸Šæ·»åŠ æ–­ç‚¹æ¥è¿›è¡Œè°ƒè¯•äº†ã€‚

### Launchæ–‡ä»¶

`vscode`å†…ç½®äº†nodeè¿è¡Œæ—¶ï¼Œå¯ä»¥å¯¹ä»»ä½•èƒ½ç¼–è¯‘åˆ°jsçš„ä»£ç è¿›è¡Œdebugã€‚

> å‚è€ƒæ–‡æ¡£ï¼š[Debugging in VSCode](https://code.visualstudio.com/Docs/editor/debugging)ï¼Œä¸€äº›å…·ä½“çš„é…ç½®ä¿¡æ¯ä¹Ÿå¯ä»¥åœ¨æ–‡æ¡£é‡Œé¢æ‰¾åˆ°

##### 1ã€é¦–å…ˆåœ¨æ ¹ç›®å½•åˆ›å»º`.vscode/launch.json`æ–‡ä»¶
å¯ä»¥æ‰‹åŠ¨åˆ›å»ºï¼Œä¹Ÿå¯ä»¥åœ¨`vscode`ä¾§è¾¹æ ä¸­`Run and Debug`ä¸­ç‚¹å‡»æŒ‰é’®è‡ªåŠ¨åˆ›å»º
![](/images/2022100101.png)

##### 2ã€åœ¨jsonä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹
```json
{
  "version": "0.2.0",
  "configurations": [
    {
      // å¦‚æœè°ƒè¯•å‰ç«¯é¡µé¢ï¼Œå¯ä»¥é€‰æ‹©chromeå’Œmsedgeï¼Œè¿™å–å†³äºä½¿ç”¨çš„æµè§ˆå™¨
      "type": "msedge",
      "request": "launch",
      // nameéšä¾¿å–
      "name": "Launch Edge against localhost",
      // ç°åœ¨å¤§éƒ¨åˆ†å‰ç«¯éƒ½ä¼šå¼€å¯ä¸€ä¸ªæœåŠ¡ï¼Œurlå°±å¡«æ­£å¸¸æœ¬åœ°æœåŠ¡çš„åœ°å€
      "url": "http://localhost:3000",
      // åœ¨æµè§ˆå™¨è°ƒè¯•çš„æ—¶å€™ï¼Œè¿™ä¸ªè®¾ç½®ç”¨äºæ·»åŠ ä¸€ä¸ªdebug session
      // ä½œç”¨å¯èƒ½æ˜¯å…è®¸è°ƒè¯•çš„æµè§ˆå™¨èƒ½è®¿é—®æœ¬åœ°ä»£ç å§ï¼ˆmaybeï¼‰
      "webRoot": "${workspaceFolder}"
    }
  ]
}
```

å½“ç„¶ï¼Œè¿™äº›å†…å®¹`vscode`éƒ½ä¼šè‡ªåŠ¨æç¤ºï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥å¼€ç®±å³ç”¨
![](/images/2022100102.png)

##### 3ã€å¯åŠ¨å‰ç«¯æœ¬åœ°å¼€å‘æœåŠ¡
è¿™ä¸ªæ²¡ä»€ä¹ˆå¥½è¯´çš„

##### 4ã€å¼€å§‹è°ƒè¯•

å¯ä»¥åœ¨`Run and Debug`ä¸­æ‰‹åŠ¨å¼€å§‹è°ƒè¯•ã€‚å½“ç„¶ï¼Œå¦‚æœä¸æƒ³ç§»åŠ¨é¼ æ ‡ï¼Œå¯ä»¥ç›´æ¥æŒ‰`F5`å¼€å§‹è°ƒè¯•ğŸ‘»

![](/images/2022100103.png)

è¿›å…¥è°ƒè¯•åå°±ä¼šå‡ºç°ç¬¬äºŒä¸ªçº¢çº¿æ¡†`Debug toolbar`ï¼Œç„¶åå°±å¯ä»¥æ„‰å¿«çš„è¿›è¡Œdebugäº†

### Debug

åœ¨ä»£ç å·¦ä¾§å¯¹åº”è¡Œæ•°ç›´æ¥å·¦é”®ç‚¹å‡»ï¼Œä¼šå‡ºç°ä¸€ä¸ªçº¢è‰²çš„æ–­ç‚¹ï¼Œéšåå³å¯è¿›è¡Œdebug
![](/images/2022100104.gif)
å…¶ä»–çš„ä¸ç”¨æˆ‘å¤šè¯´äº†å§ã€‚

export default ({ children }) => <MDXPageLayout meta={meta}>{children}</MDXPageLayout>;
