import MDXPageLayout from '../../components/MDXComponents';

export const meta = {
  title: '【vscode】直接对tsx代码进行debug',
  tags: ['vscode', 'debug'],
  img: '/images/vscode.png',
};

> 我知道vscode之前就可以直接debug代码了，但是我现在才使用这个配置并且成功调试👻👻👻👻

很多时候我在调试前端代码的时候，要么直接`console.log(x)`，要么在代码里面手动添加一个`debugger`，
稍微有点效率低下，毕竟改完代码还得等重新编译、刷新页面。

但是在完成`vscode`的`launch`文件配置后，就可以直接在代码上添加断点来进行调试了。

### Launch文件

`vscode`内置了node运行时，可以对任何能编译到js的代码进行debug。

> 参考文档：[Debugging in VSCode](https://code.visualstudio.com/Docs/editor/debugging)，一些具体的配置信息也可以在文档里面找到

##### 1、首先在根目录创建`.vscode/launch.json`文件
可以手动创建，也可以在`vscode`侧边栏中`Run and Debug`中点击按钮自动创建
![](/images/2022100101.png)

##### 2、在json中添加以下内容
```json
{
  "version": "0.2.0",
  "configurations": [
    {
      // 如果调试前端页面，可以选择chrome和msedge，这取决于使用的浏览器
      "type": "msedge",
      "request": "launch",
      // name随便取
      "name": "Launch Edge against localhost",
      // 现在大部分前端都会开启一个服务，url就填正常本地服务的地址
      "url": "http://localhost:3000",
      // 在浏览器调试的时候，这个设置用于添加一个debug session
      // 作用可能是允许调试的浏览器能访问本地代码吧（maybe）
      "webRoot": "${workspaceFolder}"
    }
  ]
}
```

当然，这些内容`vscode`都会自动提示，基本上都可以开箱即用
![](/images/2022100102.png)

##### 3、启动前端本地开发服务
这个没什么好说的

##### 4、开始调试

可以在`Run and Debug`中手动开始调试。当然，如果不想移动鼠标，可以直接按`F5`开始调试👻

![](/images/2022100103.png)

进入调试后就会出现第二个红线框`Debug toolbar`，然后就可以愉快的进行debug了

### Debug

在代码左侧对应行数直接左键点击，会出现一个红色的断点，随后即可进行debug
![](/images/2022100104.gif)
其他的不用我多说了吧。

export default ({ children }) => <MDXPageLayout meta={meta}>{children}</MDXPageLayout>;
